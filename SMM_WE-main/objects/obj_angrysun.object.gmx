<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_angrysun</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-7</depth>
  <persistent>0</persistent>
  <parentName>obj_enemyparent</parentName>
  <maskName>spr_mask_angrysun</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>xmin = 0
if (global.modo_noche == 1)
{
    switch global.apariencia
    {
        case 0:
            sprite_index = spr_SMB_happymoon
            break
        case 1:
            sprite_index = spr_SMB3_happymoon
            break
        case 2:
            sprite_index = spr_happymoon
            break
        case 3:
            sprite_index = spr_NSMBU_happymoon
            break
    }

}
else if (global.modo_noche == 0)
{
    switch global.apariencia
    {
        case 0:
            sprite_index = spr_SMB_angrysun
            break
        case 1:
            sprite_index = spr_SMB3_angrysun
            break
        case 2:
            sprite_index = spr_angrysun
            break
        case 3:
            sprite_index = spr_NSMBU_angrysun_idle
            break
    }

}
if (global.modo_noche == 1)
{
    happy = 1
    hardness = 100
    stomp = -1
    edible = 2
    if (global.apariencia == 3)
        image_speed = 0.5
    else
        image_speed = 0.1
}
else
{
    happy = 0
    hardness = 99
    stomp = 2
    edible = 2
    if (global.apariencia == 2)
        image_speed = 0.15
    else if (global.apariencia == 3)
        image_speed = 0.5
    else
        image_speed = 0.1
}
ready = 0
movement = -4
wings = 0
innave = 0
dead_h = 0
modo_lava = 0
direct = 1
swimming = 0
apilar = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (movement != noone)
{
    with (movement)
        instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (happy == 1)
{
    with (instance_create(((x - 3) + random(round(22))), ((y - 3) + random(round(22))), obj_smoke))
    {
        sprite_index = spr_boltspark
        image_speed = 0.1
    }
}
alarm[0] = 4
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (ready == 0)
{
    speed = 4
    move_towards_point((view_xview[0] + 64), (view_yview[0] + 48), speed)
    if (x &gt; (view_xview[0] + 56) &amp;&amp; x &lt; (view_xview[0] + 72) &amp;&amp; y &gt; (view_yview[0] + 40) &amp;&amp; y &lt; (view_yview[0] + 56))
    {
        speed = 0
        ready = 1
    }
}
else if (ready == 1)
{
    x = (view_xview[0] + 64)
    y = (view_yview[0] + 48)
    if instance_exists(obj_mario)
    {
        if (global.apariencia == 2 &amp;&amp; global.modo_noche == 0)
            sprite_index = spr_angrysun_atack
        ready = 2
        alarm[0] = 1
        movement = instance_create(x, y, obj_angrysun_movement)
    }
}
else if instance_exists(movement)
{
    x = (view_xview[0] + movement.x)
    y = (view_yview[0] + movement.y)
}
else
{
    x = (view_xview[0] + 64)
    y = (view_yview[0] + 48)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_mario">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var a, b;
if (happy == 1 &amp;&amp; ready == 2)
{
    audio_play_sound(snd_scatter, 0, false)
    with (obj_enemyparent)
    {
        if (object_index != obj_grinder)
        {
            a = 0
            repeat (8)
            {
                with (instance_create(((round((bbox_left + bbox_right)) / 2) - 8), ((round((bbox_top + bbox_bottom)) / 2) - 8), obj_smoke))
                {
                    sprite_index = spr_boltspark
                    image_speed = 0.1
                    motion_set(a, 0.5)
                }
                a += 45
            }
            b = 22.5
            repeat (8)
            {
                with (instance_create(((round((bbox_left + bbox_right)) / 2) - 8), ((round((bbox_top + bbox_bottom)) / 2) - 8), obj_smoke))
                {
                    sprite_index = spr_boltspark
                    image_speed = 0.1
                    motion_set(b, 1)
                }
                b += 45
            }
            if (variable_instance_exists(object_index, "key") &amp;&amp; key == 1)
            {
                with (instance_create((x - 8), (y - 8), obj_key_appear))
                    vspeed = -4
            }
            instance_destroy()
            with (instance_create((round((bbox_left + bbox_right)) / 2), y, obj_score))
                event_user(0)
        }
    }
    with (obj_bossparent)
    {
        a = 0
        repeat (8)
        {
            with (instance_create(((round((bbox_left + bbox_right)) / 2) - 8), ((round((bbox_top + bbox_bottom)) / 2) - 8), obj_smoke))
            {
                sprite_index = spr_boltspark
                image_speed = 0.1
                motion_set(a, 0.5)
            }
            a += 45
        }
        b = 22.5
        repeat (8)
        {
            with (instance_create(((round((bbox_left + bbox_right)) / 2) - 8), ((round((bbox_top + bbox_bottom)) / 2) - 8), obj_smoke))
            {
                sprite_index = spr_boltspark
                image_speed = 0.1
                motion_set(b, 1)
            }
            b += 45
        }
        if (variable_instance_exists(object_index, "key") &amp;&amp; key == 1)
        {
            with (instance_create((x - 8), (y - 8), obj_key_appear))
                vspeed = -4
        }
        instance_destroy()
        with (instance_create((round((bbox_left + bbox_right)) / 2), y, obj_score))
            event_user(0)
    }
    instance_destroy()
    with (instance_create((round((bbox_left + bbox_right)) / 2), y, obj_score))
        event_user(3)
}
else
    event_inherited()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="24">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>exit
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="15">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>exit
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>imdead = instance_create(x, y, obj_enemy_dead)
imdead.direct = direct
imdead.direct_y = -1
imdead.sprite_index = sprite_index
if (dead_h == 0)
{
    if (other.hspeed == 0 &amp;&amp; direct == 1)
        imdead.hspeed = 1
    else if (other.hspeed == 0 &amp;&amp; direct == -1)
        imdead.hspeed = -1
}
instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (ready == 0)
    draw_self()
else if (ready == 1)
    draw_sprite_ext(sprite_index, -1, (round(view_xview[0]) + 64), (round(view_yview[0]) + 48), 1, 1, 0, c_white, image_alpha)
else if instance_exists(obj_angrysun_movement)
    draw_sprite_ext(sprite_index, -1, (round(view_xview[0]) + obj_angrysun_movement.x), (round(view_yview[0]) + obj_angrysun_movement.y), 1, 1, 0, c_white, image_alpha)
else
    draw_self()
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>-8,-8</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
