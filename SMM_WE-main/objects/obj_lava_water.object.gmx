<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_lava</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-7</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0
image_index = 0
x = view_xview[0]
direct = 1
anim_lava = 0
image_xscale = 24
if instance_exists(obj_card_bout)
    y = obj_card_bout.pos_y
mytopid = instance_create(view_xview[0], y, obj_lava_water_drybones)
mytopid.image_xscale = 24
pos_y = y
pos_y_limit = y
img_sprite = 2790
up_down = 0
not_move = 0
bajar = 0
b_bajar = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (mytopid)
    instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (up_down == 2)
    up_down = 3
else if (up_down == 5)
    up_down = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (obj_levelmanager.editor == 0)
{
    if (bajar == 1 &amp;&amp; instance_exists(obj_ground3))
    {
        if ((global.bg_level == "forest" &amp;&amp; global.modo_noche == 0) || global.bg_level == "beach")
            vspeed = 0
        else if (y &lt; (obj_ground3.y + 12))
            vspeed = 1
        else if (b_bajar == 0)
        {
            vspeed = 0
            b_bajar = 1
        }
    }
    else if (pos_y != pos_y_limit)
    {
        if (not_move == 1)
        {
            vspeed = 0
            image_speed = 0
        }
        else if (pos_y_limit &lt; (y - 12) &amp;&amp; vspeed == 0 &amp;&amp; up_down == 0)
        {
            vspeed = (-global.water_speed)
            up_down = 1
        }
        else if (pos_y_limit &gt;= (y - 12) &amp;&amp; vspeed &lt; 0 &amp;&amp; up_down == 1)
        {
            vspeed = 0
            alarm[0] = 120
            up_down = 2
        }
        else if (pos_y_limit &gt;= (y - 12) &amp;&amp; vspeed == 0 &amp;&amp; up_down == 3)
        {
            vspeed = global.water_speed
            up_down = 4
        }
        else if (y &gt;= pos_y &amp;&amp; vspeed &gt; 0 &amp;&amp; up_down == 4)
        {
            vspeed = 0
            alarm[0] = 120
            up_down = 5
        }
    }
}
else if (obj_levelmanager.editor == 1 &amp;&amp; (!instance_exists(obj_water_move)))
{
    y = (pos_y + 12)
    up_down = 0
    vspeed = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var check, check_solid, check_oneway, check_bullet, hurtsolid2, solidphy;
x = view_xview[0]
if instance_exists(obj_water_move)
    y = (obj_water_move.y + 12)
if (instance_exists(obj_card_bout) &amp;&amp; obj_levelmanager.editor == 1)
{
    pos_y = obj_card_bout.pos_y
    pos_y_limit = obj_card_bout.pos_y_limit
}
switch global.bg_level
{
    case "castle":
        img_sprite = 2790
        break
    case "forest":
        if (global.modo_noche == 1)
            img_sprite = 2791
        else
            img_sprite = 2792
        break
    case "beach":
        img_sprite = 2793
        break
}

if (obj_levelmanager.editor == 0)
    depth = -13
else
    depth = -7
event_user(0)
if instance_exists(obj_levelmanager)
{
    if (obj_levelmanager.editor == 1 &amp;&amp; ((global.bg_level == "forest" &amp;&amp; global.modo_noche == 1) || global.bg_level == "castle"))
    {
        image_speed = 0
        image_index = 0
        image_alpha = 0.4
        anim_lava = 0
        up_down = 0
        not_move = 0
        bajar = 0
        b_bajar = 0
    }
    else if (obj_levelmanager.editor == 1 &amp;&amp; (global.bg_level == "forest" || global.bg_level == "beach"))
    {
        image_speed = 0
        image_index = 0
        image_alpha = 1
        anim_lava = 0
        up_down = 0
        not_move = 0
        bajar = 0
        b_bajar = 0
    }
    else
    {
        if (!instance_exists(obj_deadmario))
        {
            if (global.apariencia == 3)
            {
                image_speed = 0.3
                anim_lava += 0.3
            }
            else
                image_speed = 0.1
        }
        image_alpha = 1
    }
}
if instance_exists(obj_deadmario)
    not_move = 1
if instance_exists(obj_player_goal_parent)
    bajar = 1
if (mytopid != obj_lighting &amp;&amp; instance_exists(mytopid) &amp;&amp; instance_exists(obj_mario))
{
    mytopid.x = view_xview[0]
    mytopid.y = y
    if instance_exists(obj_kuribo_drybones)
    {
        check = collision_rectangle(obj_mario.bbox_left, (obj_mario.bbox_bottom - 1), obj_mario.bbox_right, (obj_mario.bbox_bottom + 1), obj_solidtop, 0, 0)
        check_solid = collision_rectangle(obj_mario.bbox_left, (obj_mario.bbox_top - 2), obj_mario.bbox_right, obj_mario.bbox_top, obj_solid, 1, 0)
        check_oneway = collision_rectangle(obj_mario.bbox_left, (obj_mario.bbox_top - 2), obj_mario.bbox_right, obj_mario.bbox_top, obj_onewaygate_bottom, 1, 0)
        check_bullet = collision_rectangle(obj_mario.bbox_left, (obj_mario.bbox_top - 2), obj_mario.bbox_right, obj_mario.bbox_top, obj_bullebill_base, 1, 0)
        hurtsolid2 = collision_rectangle(obj_mario.bbox_left, (obj_mario.bbox_top - 2), obj_mario.bbox_right, obj_mario.bbox_top, obj_physicssolid, 1, 0)
        solidphy = collision_rectangle(obj_mario.bbox_left, (obj_mario.bbox_top - 2), obj_mario.bbox_right, obj_mario.bbox_top, obj_solidphy, 1, 0)
        if ((check &amp;&amp; vspeed &gt; 0) || (check &amp;&amp; vspeed &lt; 0 &amp;&amp; y &gt; (obj_mario.y + 32)) || ((check_solid || check_oneway || check_bullet || hurtsolid2 || solidphy) &amp;&amp; vspeed &lt; 0))
        {
            obj_mario.inclown = 0
            exit
        }
        if (collision_rectangle(bbox_left, (bbox_top - 8), bbox_right, (bbox_top + 7), obj_mario, 0, 0) &amp;&amp; obj_mario.y &lt; (y - 28) &amp;&amp; obj_mario.state &lt; 2)
        {
            if instance_exists(obj_clown)
            {
                with (obj_clown)
                    inmario = 0
            }
            with (obj_kuribo_drybones)
                gran_golpe = 0
            obj_mario.inclown = 1
            if (vspeed == 0)
                obj_mario.y = ceil((bbox_top - 32))
            else
                obj_mario.y = ceil((bbox_top - (32 - vspeed)))
        }
        else
            obj_mario.inclown = 0
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch global.apariencia
{
    case 0:
        switch global.bg_level
        {
            case "forest":
                if (global.modo_noche == 1)
                    sprite_index = spr_SMB_lava_purple
                else
                    sprite_index = spr_SMB_water
                break
            case "castle":
                sprite_index = spr_SMB_lava
                break
            case "beach":
                sprite_index = spr_SMB_water_b
                break
        }

        break
    case 1:
        switch global.bg_level
        {
            case "forest":
                if (global.modo_noche == 1)
                    sprite_index = spr_SMB3_lava_purple
                else
                    sprite_index = spr_SMB3_water
                break
            case "castle":
                sprite_index = spr_SMB3_lava
                break
            case "beach":
                sprite_index = spr_SMB3_water_b
                break
        }

        break
    case 2:
        switch global.bg_level
        {
            case "forest":
                if (global.modo_noche == 1)
                    sprite_index = spr_lava_purple
                else
                    sprite_index = spr_water
                break
            case "castle":
                sprite_index = spr_lava
                break
            case "beach":
                sprite_index = spr_water_b
                break
        }

        break
    case 3:
        switch global.bg_level
        {
            case "forest":
                if (global.modo_noche == 1)
                    sprite_index = spr_NSMBU_pocion
                else
                    sprite_index = spr_NSMBU_water
                break
            case "castle":
                sprite_index = spr_NSMBU_lava
                break
            case "beach":
                sprite_index = spr_NSMBU_water
                break
        }

        break
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var pos;
if (view_yview[0] &gt;= (y + 16))
    pos = view_yview[0]
else
    pos = (y + 4)
if (global.apariencia == 3 &amp;&amp; global.bg_level == "forest" &amp;&amp; global.modo_noche == 1)
{
    num_tile_ancho_d = 21
    num_tile_alto_d = 48
    num_ancho_d = ceil((room_width / num_tile_ancho_d))
    num_alto_d = ceil((240 / num_tile_alto_d))
    pos = (y + 18)
    for (i = 0; i &lt; num_ancho_d; i++)
    {
        for (j = 0; j &lt; num_alto_d; j++)
            draw_sprite_ext(spr_NSMBU_pocion_down, anim_lava, (i * num_tile_ancho_d), (pos + (j * num_tile_alto_d)), 1, 1, 0, c_white, image_alpha)
    }
}
else
    draw_sprite_ext(img_sprite, global.apariencia, view_xview[0], pos, ((view_wview[0] + 16) / 16), ((view_hview[0] + 16) / 16), 0, c_white, image_alpha)
if ((global.bg_level == "forest" &amp;&amp; global.modo_noche == 0) || global.bg_level == "beach")
{
    if (global.apariencia &gt; 1)
        num_tile_ancho = 32
    else
        num_tile_ancho = 16
}
else if (global.apariencia == 3)
    num_tile_ancho = 64
else
    num_tile_ancho = 16
num_ancho = ceil((room_width / num_tile_ancho))
if instance_exists(obj_water_move)
{
    for (i = 0; i &lt; num_ancho; i++)
        draw_sprite_ext(sprite_index, image_index, (i * num_tile_ancho), obj_water_move.y, 1, 1, 0, c_white, image_alpha)
}
else
{
    for (i = 0; i &lt; num_ancho; i++)
        draw_sprite_ext(sprite_index, image_index, (i * num_tile_ancho), (y - 12), 1, 1, 0, c_white, image_alpha)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
