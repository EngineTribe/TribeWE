<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_marker_event</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>no_pausar = 0
pos_y = 0
pos_y_limit = 0
water_speed = 0
limit_door_1 = 0
limit_door_2 = 0
limit_door_3 = 0
url = ""
entorno[0] = "ground"
entorno[1] = "underground"
entorno[2] = "underwater"
entorno[3] = "castle"
entorno[4] = "desert"
entorno[5] = "sky"
entorno[6] = "airship"
entorno[7] = "forest"
entorno[8] = "ghost"
entorno[9] = "snow"
entorno[10] = "fall"
entorno[11] = "beach"
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.pink_coins_total = instance_number(obj_pink_coin)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="15">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.apariencia = irandom_range(0, 3)
global.bg_level = entorno[irandom_range(0, 11)]
global.modo_noche = 0
if (global.apariencia == 3)
{
    with (obj_mario)
    {
        instance_create(x, y, obj_marioU)
        instance_destroy()
    }
}
pos_y = (room_height - 16)
pos_y_limit = pos_y
global.timer = 300
event_user(2)
event_user(3)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="14">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var _string, _expected_hash, _hashless_string, _new_hash, _string_code, _json, mundos, _wrapper, _list, _map, _list2, j, _map2, o_ground, _list3, k, _map3, object, o_objecto, _list4, l, _map4, _list5, _map5, sprite, _list6, _map6, _list7, _map7, _list8, _map8, mario_u;
if ((global.nm_play == 0) != "")
{
    if has_internet()
        url = http_get((((((((((((global.api_url + "request?type=stats&amp;owner=") + global.ow) + "&amp;api_key=") + global.ak) + "&amp;discord_id=") + global.my2) + "&amp;auth_code=") + global.my5) + "&amp;lvl_id=") + global.level_id) + "&amp;from=intentos"))
    _string = global.nm_play
    _expected_hash = string_copy(_string, (string_length(_string) - 39), 40)
    _hashless_string = string_copy(_string, 1, (string_length(_string) - 40))
    _new_hash = sha1_string_utf8_hmac(global.drez, _hashless_string)
    if (_expected_hash == _new_hash)
    {
        _string_code = base64_decode(_hashless_string)
        _json = json_decode(_string_code)
        mundos = _json
    }
    else
    {
        room_goto(rm_niveles_mundiales)
        exit
    }
    if (mundos == 0 || mundos == 0)
    {
        room_goto(rm_niveles_mundiales)
        exit
    }
    _wrapper = ds_map_find_value(mundos, "MAIN")
    _list = ds_map_find_value(_wrapper, "AJUSTES")
    _map = ds_list_find_value(_list, 0)
    global.apariencia = ds_map_find_value(_map, "apariencia")
    if (global.apariencia &gt; 3 || global.apariencia &lt; 0)
        global.apariencia = choose(0, 1, 2, 3)
    global.bg_level = ds_map_find_value(_map, "entorno")
    if (global.bg_level != "ground" &amp;&amp; global.bg_level != "underground" &amp;&amp; global.bg_level != "castle" &amp;&amp; global.bg_level != "underwater" &amp;&amp; global.bg_level != "desert" &amp;&amp; global.bg_level != "ghost" &amp;&amp; global.bg_level != "airship" &amp;&amp; global.bg_level != "sky" &amp;&amp; global.bg_level != "forest" &amp;&amp; global.bg_level != "snow" &amp;&amp; global.bg_level != "beach" &amp;&amp; global.bg_level != "fall")
        global.bg_level = "ground"
    global.modo_noche = ds_map_find_value(_map, "modo_noche")
    if (global.modo_noche != 0 &amp;&amp; global.modo_noche != 1)
        global.modo_noche = 0
    global.timer = ds_map_find_value(_map, "cronometro")
    if (global.timer &gt; 500 || global.timer &lt; 10)
        global.timer = 300
    if instance_exists(obj_levelmanager)
    {
        with (obj_levelmanager)
        {
            if (!instance_exists(obj_mariostart))
                event_user(5)
            alarm[2] = 1
            temp_ready = 1
            if (global.checkpointroom != -4)
                f_mario = 0
        }
    }
    global.autoavance = ds_map_find_value(_map, "autoavance")
    if (global.autoavance &gt; 3 || global.autoavance &lt; 0)
        global.autoavance = 0
    global.condiciones = ds_map_find_value(_map, "condiciones")
    global.condiciones_type = ds_map_find_value(_map, "condiciones_type")
    global.condiciones_object = ds_map_find_value(_map, "condiciones_object")
    global.condiciones_count = ds_map_find_value(_map, "condiciones_count")
    if (global.condiciones != 0 &amp;&amp; global.condiciones != 1)
        global.condiciones = 0
    if (global.condiciones_type != 0 || global.condiciones_object != 0)
    {
        global.condiciones_type = 0
        global.condiciones_object = 0
    }
    if (global.condiciones_count &gt; 3 || global.condiciones_count &lt; 0)
        global.condiciones_count = 0
    if ds_map_exists(_map, "ds_s")
        global.sounds_level = ds_map_find_value(_map, "ds_s")
    if (global.sounds_level != 0 &amp;&amp; global.sounds_level != 1)
        global.sounds_level = 0
    if instance_exists(obj_ground2)
    {
        obj_ground2.y = ds_map_find_value(_map, "ground2")
        obj_ground2.size_y = ((432 - obj_ground2.y) / 16)
    }
    if instance_exists(obj_ground3)
    {
        obj_ground3.x = ds_map_find_value(_map, "ground3_x")
        obj_ground3.y = ds_map_find_value(_map, "ground3_y")
        obj_ground3.size_y = ((432 - obj_ground3.y) / 16)
    }
    room_width = ds_map_find_value(_map, "size")
    if (room_width &gt; 9216)
        room_width = 9216
    if (room_width &lt; 384)
        room_width = 496
    pos_y = ds_map_find_value(_map, "water_level")
    pos_y_limit = ds_map_find_value(_map, "water_level_limit")
    global.water_speed = ds_map_find_value(_map, "water_level_speed")
    if (global.water_speed != 0.2 &amp;&amp; global.water_speed != 0.5 &amp;&amp; global.water_speed != 0.8)
        global.water_speed = 0.2
    event_user(2)
    _list2 = ds_map_find_value(_wrapper, "SUELO")
    for (j = 0; j &lt; ds_list_size(_list2); j++)
    {
        _map2 = ds_list_find_value(_list2, j)
        o_ground = instance_create(0, 0, obj_ground)
        o_ground.x = ds_map_find_value(_map2, "x_pos")
        o_ground.y = ds_map_find_value(_map2, "y_pos")
        o_ground.x_draw = ds_map_find_value(_map2, "x_pos")
        o_ground.y_draw = ds_map_find_value(_map2, "y_pos")
        o_ground.image_index = ds_map_find_value(_map2, "index")
    }
    _list3 = ds_map_find_value(_wrapper, "NIVEL")
    for (k = 0; k &lt; ds_list_size(_list3); k++)
    {
        _map3 = ds_list_find_value(_list3, k)
        object = asset_get_index(ds_map_find_value(_map3, "object"))
        if (object != obj_tuberia_res &amp;&amp; object != obj_cannon_res &amp;&amp; object != obj_cannon_red_res &amp;&amp; object != obj_semisolid_platform1 &amp;&amp; object != obj_mushroom_platform_res &amp;&amp; object != obj_pokey_res &amp;&amp; object != obj_bullebill_base_red_res &amp;&amp; object != obj_bullebill_base_res &amp;&amp; object != obj_vine_res &amp;&amp; object != obj_platform_res &amp;&amp; object != obj_platform_blue_res &amp;&amp; object != obj_puente_res &amp;&amp; object != obj_door_res &amp;&amp; object != obj_door_exit_res &amp;&amp; object != obj_door_switch_res &amp;&amp; object != obj_door_switch_exit_res &amp;&amp; object != obj_door_lock_res &amp;&amp; object != obj_door_lock_exit_res &amp;&amp; object != obj_ground)
        {
            o_objecto = instance_create(0, 0, object)
            o_objecto.x = ds_map_find_value(_map3, "x_pos")
            o_objecto.y = ds_map_find_value(_map3, "y_pos")
            o_objecto.x_draw = ds_map_find_value(_map3, "x_pos")
            o_objecto.y_draw = ds_map_find_value(_map3, "y_pos")
            o_objecto.sprout = ds_map_find_value(_map3, "sprout")
            o_objecto.direct_t = ds_map_find_value(_map3, "direct_t")
            o_objecto.progresivo = ds_map_find_value(_map3, "progresivo")
            o_objecto.wings = ds_map_find_value(_map3, "wings")
            o_objecto.rotacion = ds_map_find_value(_map3, "rotacion")
            o_objecto.paracaidas = ds_map_find_value(_map3, "paracaidas")
            o_objecto.key = ds_map_find_value(_map3, "key")
            o_objecto.inup = ds_map_find_value(_map3, "inup")
            o_objecto.modo_water = ds_map_find_value(_map3, "modo_water")
            o_objecto.s_scaley = ds_map_find_value(_map3, "s_scaley")
        }
    }
    _list4 = ds_map_find_value(_wrapper, "TUBERIAS")
    for (l = 0; l &lt; ds_list_size(_list4); l++)
    {
        _map4 = ds_list_find_value(_list4, l)
        o_objecto = instance_create(0, 0, obj_tuberia_res)
        o_objecto.x = ds_map_find_value(_map4, "x_pos")
        o_objecto.y = ds_map_find_value(_map4, "y_pos")
        o_objecto.x_draw = ds_map_find_value(_map4, "x_pos")
        o_objecto.y_draw = ds_map_find_value(_map4, "y_pos")
        o_objecto.size = ds_map_find_value(_map4, "size")
        o_objecto.rotacion = ds_map_find_value(_map4, "rotacion")
        o_objecto.direct_t = ds_map_find_value(_map4, "direct_t")
        o_objecto.s_scalex = ds_map_find_value(_map4, "scalex")
        o_objecto.color = ds_map_find_value(_map4, "color")
        o_objecto.plant = ds_map_find_value(_map4, "mask")
        o_objecto.image_xscale = ds_map_find_value(_map4, "xscale")
        o_objecto.image_yscale = ds_map_find_value(_map4, "yscale")
        if ds_map_exists(_map4, "warp")
        {
            o_objecto.warp = ds_map_find_value(_map4, "warp")
            o_objecto.t_x_pos = ds_map_find_value(_map4, "t_x_pos")
            o_objecto.t_y_pos = ds_map_find_value(_map4, "t_y_pos")
            o_objecto.t_size = ds_map_find_value(_map4, "t_size")
            o_objecto.t_rotacion = ds_map_find_value(_map4, "t_rotacion")
            o_objecto.t_direct_t = ds_map_find_value(_map4, "t_direct_t")
            o_objecto.t_s_scalex = ds_map_find_value(_map4, "t_s_scalex")
            o_objecto.t_color = ds_map_find_value(_map4, "t_color")
            o_objecto.t_xscale = ds_map_find_value(_map4, "t_xscale")
            o_objecto.t_yscale = ds_map_find_value(_map4, "t_yscale")
        }
    }
    _list5 = ds_map_find_value(_wrapper, "DECORACION")
    for (l = 0; l &lt; ds_list_size(_list5); l++)
    {
        _map5 = ds_list_find_value(_list5, l)
        object = asset_get_index(ds_map_find_value(_map5, "object"))
        sprite = asset_get_index(ds_map_find_value(_map5, "sprite"))
        o_objecto = instance_create(0, 0, object)
        o_objecto.x = ds_map_find_value(_map5, "x_pos")
        o_objecto.y = ds_map_find_value(_map5, "y_pos")
        o_objecto.sprite_index = sprite
        o_objecto.image_index = ds_map_find_value(_map5, "index")
    }
    _list6 = ds_map_find_value(_wrapper, "CANNON")
    for (l = 0; l &lt; ds_list_size(_list6); l++)
    {
        _map6 = ds_list_find_value(_list6, l)
        object = asset_get_index(ds_map_find_value(_map6, "object"))
        o_objecto = instance_create(0, 0, object)
        o_objecto.x = ds_map_find_value(_map6, "x_pos")
        o_objecto.y = ds_map_find_value(_map6, "y_pos")
        o_objecto.x_draw = ds_map_find_value(_map6, "x_pos")
        o_objecto.y_draw = ds_map_find_value(_map6, "y_pos")
        o_objecto.direct = ds_map_find_value(_map6, "direct")
        o_objecto.d = ds_map_find_value(_map6, "down")
        o_objecto.u = ds_map_find_value(_map6, "up")
        o_objecto.l = ds_map_find_value(_map6, "left")
        o_objecto.r = ds_map_find_value(_map6, "right")
    }
    _list7 = ds_map_find_value(_wrapper, "PLATAFORMAS")
    for (l = 0; l &lt; ds_list_size(_list7); l++)
    {
        _map7 = ds_list_find_value(_list7, l)
        object = asset_get_index(ds_map_find_value(_map7, "object"))
        o_objecto = instance_create(0, 0, object)
        o_objecto.x = ds_map_find_value(_map7, "x_pos")
        o_objecto.y = ds_map_find_value(_map7, "y_pos")
        o_objecto.x_draw = ds_map_find_value(_map7, "x_pos")
        o_objecto.y_draw = ds_map_find_value(_map7, "y_pos")
        o_objecto.size_x = ds_map_find_value(_map7, "width")
        o_objecto.size_y = ds_map_find_value(_map7, "height")
        o_objecto.sprite_index = asset_get_index(ds_map_find_value(_map7, "sprite"))
        o_objecto.color = ds_map_find_value(_map7, "color")
        o_objecto.depth = ds_map_find_value(_map7, "depth")
        o_objecto.direct_t = ds_map_find_value(_map7, "direct_t")
        o_objecto.wings = ds_map_find_value(_map7, "wings")
    }
    _list8 = ds_map_find_value(_wrapper, "PUERTAS")
    for (l = 0; l &lt; ds_list_size(_list8); l++)
    {
        _map8 = ds_list_find_value(_list8, l)
        object = asset_get_index(ds_map_find_value(_map8, "object"))
        if ((object == obj_door_res &amp;&amp; limit_door_1 &lt; 4) || (object == obj_door_switch_res &amp;&amp; limit_door_2 &lt; 4) || (object == obj_door_lock_res &amp;&amp; limit_door_3 &lt; 4))
        {
            o_objecto = instance_create(0, 0, object)
            o_objecto.x = ds_map_find_value(_map8, "x_pos")
            o_objecto.y = ds_map_find_value(_map8, "y_pos")
            o_objecto.x_draw = ds_map_find_value(_map8, "x_pos")
            o_objecto.y_draw = ds_map_find_value(_map8, "y_pos")
            o_objecto.door_x = ds_map_find_value(_map8, "door_x")
            o_objecto.door_y = ds_map_find_value(_map8, "door_y")
            if (object == obj_door_res)
                limit_door_1++
            else if (object == 590)
                limit_door_2++
            else
                limit_door_3++
        }
    }
    ds_map_destroy(_wrapper)
    if instance_exists(obj_parent_resource)
    {
        with (obj_parent_resource)
        {
            if (y &lt; (view_hview[0] - 8))
            {
                with (obj_levelmanager)
                    camlock = 0
            }
            else
            {
                with (obj_levelmanager)
                    camlock = 1
            }
        }
        if (obj_ground2.y &lt; (view_hview[0] - 8) || obj_ground3.y &lt; (view_hview[0] - 8))
        {
            with (obj_levelmanager)
                camlock = 0
        }
        scr_edit_to_play()
        if instance_exists(obj_parent_resource)
        {
            with (obj_parent_resource)
                instance_destroy()
        }
        if (global.apariencia == 3)
        {
            mario_u = obj_marioU
            with (obj_mario)
            {
                if (object_index != obj_marioU)
                {
                    instance_create(x, y, obj_marioU)
                    instance_destroy()
                }
            }
        }
        else
            mario_u = obj_mario
        if instance_exists(mario_u)
        {
            if (global.checkpointroom == -4)
            {
                if instance_exists(obj_ground2)
                {
                    mario_u.x = (obj_ground2.x + 64)
                    mario_u.y = (obj_ground2.y - 32)
                    with (obj_levelmanager)
                    {
                        x = (obj_ground2.x + 64)
                        y = obj_ground2.y
                        speed = 0
                        fallow_mario = 0
                    }
                }
            }
            else if (room == global.checkpointroom)
            {
                mario_u.x = global.checkpoint_x
                mario_u.y = (global.checkpoint_y - 16)
                with (obj_levelmanager)
                {
                    x = global.checkpoint_x
                    y = (global.checkpoint_y + 16)
                    speed = 0
                    fallow_mario = 0
                }
            }
        }
        if (global.autoavance != 0)
        {
            if (room == global.checkpointroom)
            {
                switch global.autoavance
                {
                    case 1:
                        with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                        {
                            velocidad = 0.5
                            follow_y = 1
                        }
                        break
                    case 2:
                        with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                        {
                            velocidad = 1
                            follow_y = 1
                        }
                        break
                    case 3:
                        with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                        {
                            velocidad = 1.5
                            follow_y = 1
                        }
                        break
                }

            }
            else
            {
                switch global.autoavance
                {
                    case 1:
                        with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                            velocidad = 0.5
                        break
                    case 2:
                        with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                            velocidad = 1
                        break
                    case 3:
                        with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                            velocidad = 1.5
                        break
                }

            }
        }
        if (global.bg_level == "airship" &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0)
            instance_create(0, 0, obj_rainmaker)
        if (global.bg_level == "snow")
            instance_create(0, 0, obj_snowmaker)
        if (global.bg_level == "fall")
            instance_create(0, 0, obj_leafmaker)
        if (global.condiciones == 1 &amp;&amp; global.condiciones_type == 0)
        {
            global.condiciones_clear = 1
            with (obj_alert_condicion)
                instance_destroy()
            with (instance_create((view_xview[0] + 54), (view_yview[0] + 43), obj_alert_condicion))
                start = 1
        }
        if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0 &amp;&amp; global.apariencia != 3)
            background_hspeed[0] = -0.55
        else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia == 0)
            background_hspeed[0] = -1
        else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 0 &amp;&amp; global.apariencia != 3)
            background_hspeed[0] = -0.2
        global.instance_deactivate = 1
        instance_destroy()
    }
    if (obj_ground2.y &lt; (view_hview[0] - 8) || obj_ground3.y &lt; (view_hview[0] - 8))
    {
        with (obj_levelmanager)
            camlock = 0
    }
    //scr_edit_to_play()
    if instance_exists(obj_parent_resource)
    {
        with (obj_parent_resource)
            instance_destroy()
    }
    if (global.apariencia == 3)
    {
        mario_u = obj_marioU
        with (obj_mario)
        {
            if (object_index != obj_marioU)
            {
                instance_create(x, y, obj_marioU)
                instance_destroy()
            }
        }
    }
    else
        mario_u = obj_mario
    if instance_exists(mario_u)
    {
        if (global.checkpointroom == -4)
        {
            if instance_exists(obj_ground2)
            {
                mario_u.x = (obj_ground2.x + 64)
                mario_u.y = (obj_ground2.y - 32)
                with (obj_levelmanager)
                {
                    x = (obj_ground2.x + 64)
                    y = obj_ground2.y
                    speed = 0
                    fallow_mario = 0
                }
            }
        }
        else if (room == global.checkpointroom)
        {
            mario_u.x = global.checkpoint_x
            mario_u.y = (global.checkpoint_y - 16)
            with (obj_levelmanager)
            {
                x = global.checkpoint_x
                y = (global.checkpoint_y + 16)
                speed = 0
                fallow_mario = 0
            }
        }
    }
    if (global.autoavance != 0)
    {
        if (room == global.checkpointroom)
        {
            switch global.autoavance
            {
                case 1:
                    with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                    {
                        velocidad = 0.5
                        follow_y = 1
                    }
                    break
                case 2:
                    with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                    {
                        velocidad = 1
                        follow_y = 1
                    }
                    break
                case 3:
                    with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                    {
                        velocidad = 1.5
                        follow_y = 1
                    }
                    break
            }

        }
        else
        {
            switch global.autoavance
            {
                case 1:
                    with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                        velocidad = 0.5
                    break
                case 2:
                    with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                        velocidad = 1
                    break
                case 3:
                    with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                        velocidad = 1.5
                    break
            }

        }
    }
    if (global.bg_level == "airship" &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0)
        instance_create(0, 0, obj_rainmaker)
    if (global.bg_level == "snow")
        instance_create(0, 0, obj_snowmaker)
    if (global.bg_level == "fall")
        instance_create(0, 0, obj_leafmaker)
    if (global.condiciones == 1 &amp;&amp; global.condiciones_type == 0)
    {
        global.condiciones_clear = 1
        with (obj_alert_condicion)
            instance_destroy()
        with (instance_create((view_xview[0] + 54), (view_yview[0] + 43), obj_alert_condicion))
            start = 1
    }
    if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0 &amp;&amp; global.apariencia != 3)
        background_hspeed[0] = -0.55
    else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia == 0)
        background_hspeed[0] = -1
    else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 0 &amp;&amp; global.apariencia != 3)
        background_hspeed[0] = -0.2
    global.instance_deactivate = 1
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.apariencia == 0)
{
    if instance_exists(obj_ground3)
    {
        if (global.bg_level == "castle")
            instance_create((obj_ground3.x + 16), (obj_ground3.y - 16), obj_axe_smw)
        else
        {
            instance_create((obj_ground3.x + 4), (obj_ground3.y - 176), obj_flagpole)
            instance_create((obj_ground3.x + 80), (obj_ground3.y - 48), obj_SMB_castle)
        }
    }
}
else if (global.apariencia == 1)
{
    if instance_exists(obj_ground3)
    {
        if (global.bg_level == "castle")
            instance_create((obj_ground3.x + 16), (obj_ground3.y - 16), obj_axe_smw)
        else
            instance_create(obj_ground3.x, (obj_ground3.y - 64), obj_goalcard)
    }
}
else if (global.apariencia == 2)
{
    if instance_exists(obj_ground3)
    {
        if (global.bg_level == "castle")
            instance_create((obj_ground3.x + 16), (obj_ground3.y - 16), obj_axe_smw)
        else
            instance_create(obj_ground3.x, (obj_ground3.y - 137), obj_goalgate)
    }
}
else if (global.apariencia == 3)
{
    if instance_exists(obj_ground3)
    {
        if (global.bg_level == "castle")
            instance_create((obj_ground3.x + 16), (obj_ground3.y - 16), obj_axe_smw)
        else
        {
            instance_create((obj_ground3.x + 4), (obj_ground3.y - 176), obj_flagpole)
            instance_create((obj_ground3.x + 80), (obj_ground3.y - 48), obj_SMB_castle)
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>background_visible[1] = 0
background_visible[2] = 0
background_visible[3] = 0
background_visible[4] = 0
background_visible[5] = 0
switch global.bg_level
{
    case "ground":
        if (global.apariencia == 3 &amp;&amp; global.modo_noche == 0)
        {
            background_index[0] = bg_NSMBU_overworld_0
            background_index[1] = bg_NSMBU_overworld_1
            background_index[2] = bg_NSMBU_overworld_2
            background_index[3] = bg_NSMBU_overworld_3
            background_index[4] = bg_NSMBU_overworld_4
            background_index[5] = bg_NSMBU_overworld_5
            background_visible[1] = 1
            background_visible[2] = 1
            background_visible[3] = 1
            background_visible[4] = 1
            background_visible[5] = 1
        }
        else
            background_index[(0 &lt;&lt; 0)] = scr_bg_ground()
        obj_levelmanager.levelmusic = scr_snd_ground()
        break
    case "underground":
        background_index[(0 &lt;&lt; 0)] = scr_bg_underground()
        obj_levelmanager.levelmusic = scr_snd_underground()
        break
    case "castle":
        if (global.apariencia == 3 &amp;&amp; global.modo_noche == 0)
        {
            background_index[0] = bg_NSMBU_castle_1
            background_index[1] = bg_NSMBU_castle_2
            background_index[2] = bg_NSMBU_castle_3
            background_visible[1] = 1
            background_visible[2] = 1
        }
        else
            background_index[(0 &lt;&lt; 0)] = scr_bg_castle()
        obj_levelmanager.levelmusic = scr_snd_castle()
        break
    case "underwater":
        background_index[(0 &lt;&lt; 0)] = scr_bg_underwater()
        obj_levelmanager.levelmusic = scr_snd_underwater()
        break
    case "ghost":
        if (global.apariencia == 3 &amp;&amp; global.modo_noche == 0)
        {
            background_index[0] = bg_NSMBU_ghost_house_1
            background_index[1] = bg_NSMBU_ghost_house_2
            background_visible[1] = 1
        }
        else
            background_index[(0 &lt;&lt; 0)] = scr_bg_ghost_house()
        obj_levelmanager.levelmusic = scr_snd_ghost_house()
        break
    case "airship":
        background_index[(0 &lt;&lt; 0)] = scr_bg_airship()
        obj_levelmanager.levelmusic = scr_snd_airship()
        break
    case "sky":
        background_index[(0 &lt;&lt; 0)] = scr_bg_sky()
        obj_levelmanager.levelmusic = scr_snd_sky()
        break
    case "forest":
        background_index[(0 &lt;&lt; 0)] = scr_bg_forest()
        obj_levelmanager.levelmusic = scr_snd_forest()
        break
    case "desert":
        if (global.apariencia == 3 &amp;&amp; global.modo_noche == 0)
        {
            background_index[0] = bg_NSMBU_desert_1
            background_index[1] = bg_NSMBU_desert_2
            background_index[2] = bg_NSMBU_desert_3
            background_index[3] = bg_NSMBU_desert_4
            background_index[4] = bg_NSMBU_desert_5
            background_visible[1] = 1
            background_visible[2] = 1
            background_visible[3] = 1
            background_visible[4] = 1
        }
        else
            background_index[(0 &lt;&lt; 0)] = scr_bg_desert()
        obj_levelmanager.levelmusic = scr_snd_desert()
        break
    case "snow":
        if (global.apariencia == 3)
        {
            if (global.modo_noche == 0)
            {
                background_index[0] = bg_NSMBU_snow_0
                background_index[1] = bg_NSMBU_snow_1
                background_index[2] = bg_NSMBU_snow_2
                background_index[3] = bg_NSMBU_snow_3
                background_index[4] = bg_NSMBU_snow_4
                background_index[5] = bg_NSMBU_snow_5
                background_visible[4] = 1
                background_visible[5] = 1
            }
            else
            {
                background_index[0] = bg_NSMBU_snow_night_1
                background_index[1] = bg_NSMBU_snow_night_2
                background_index[2] = bg_NSMBU_snow_night_3
                background_index[3] = bg_NSMBU_snow_night_4
                background_index[4] = bg_NSMBU_snow_night_5
            }
            background_visible[1] = 1
            background_visible[2] = 1
            background_visible[3] = 1
            background_visible[4] = 1
        }
        else
            background_index[(0 &lt;&lt; 0)] = scr_bg_snow()
        obj_levelmanager.levelmusic = scr_snd_snow()
        break
    case "fall":
        background_index[(0 &lt;&lt; 0)] = scr_bg_fall()
        obj_levelmanager.levelmusic = scr_snd_autumn()
        break
    case "beach":
        if (global.apariencia == 3 &amp;&amp; global.modo_noche == 0)
        {
            background_index[0] = bg_NSMBU_beach_0
            background_index[1] = bg_NSMBU_beach_1
            background_index[2] = bg_NSMBU_beach_2
            background_index[3] = bg_NSMBU_beach_3
            background_index[4] = bg_NSMBU_beach_4
            background_index[5] = bg_NSMBU_beach_5
            background_visible[1] = 1
            background_visible[2] = 1
            background_visible[3] = 1
            background_visible[4] = 1
            background_visible[5] = 1
        }
        else
            background_index[(0 &lt;&lt; 0)] = scr_bg_beach()
        obj_levelmanager.levelmusic = scr_snd_beach()
        break
}

obj_levelmanager.levelmusic_original = obj_levelmanager.levelmusic
if (room == rm_title)
{
    if (global.modo_noche == 1)
        obj_levelmanager.levelmusic = 157
    else if (global.apariencia &gt; 1)
        obj_levelmanager.levelmusic = 155
    else
        obj_levelmanager.levelmusic = 156
}
if (global.bg_level == "castle")
{
    if instance_exists(obj_lava_water)
    {
        with (obj_lava_water)
            instance_destroy()
    }
    with (instance_create(view_xview[0], (pos_y + 12), obj_lava_water))
    {
        switch global.apariencia
        {
            case 0:
                sprite_index = spr_SMB_lava
                break
            case 1:
                sprite_index = spr_SMB3_lava
                break
            case 2:
                sprite_index = spr_lava
                break
            case 3:
                sprite_index = spr_NSMBU_lava
                break
        }

        pos_y = other.pos_y
        pos_y_limit = other.pos_y_limit
    }
}
else if (global.bg_level == "forest" &amp;&amp; global.modo_noche == 1)
{
    if instance_exists(obj_lava_water)
    {
        with (obj_lava_water)
            instance_destroy()
    }
    with (instance_create(view_xview[0], (pos_y + 12), obj_lava_water))
    {
        switch global.apariencia
        {
            case 0:
                sprite_index = spr_SMB_lava_purple
                break
            case 1:
                sprite_index = spr_SMB3_lava_purple
                break
            case 2:
                sprite_index = spr_lava_purple
                break
            case 3:
                sprite_index = spr_NSMBU_lava
                break
        }

        pos_y = other.pos_y
        pos_y_limit = other.pos_y_limit
    }
}
else if ((global.bg_level == "forest" &amp;&amp; global.modo_noche == 0) || global.bg_level == "beach")
{
    if instance_exists(obj_lava_water)
    {
        with (obj_lava_water)
            instance_destroy()
    }
    with (instance_create(view_xview[0], (pos_y + 12), obj_lava_water))
    {
        switch global.apariencia
        {
            case 0:
                sprite_index = spr_SMB_water
                break
            case 1:
                if (global.bg_level == "beach")
                    sprite_index = spr_SMB3_water_b
                else
                    sprite_index = spr_SMB3_water
                break
            case 2:
                sprite_index = spr_water
                break
            case 3:
                sprite_index = spr_NSMBU_water
                break
        }

        pos_y = other.pos_y
        pos_y_limit = other.pos_y_limit
    }
}
else if instance_exists(obj_lava_water)
{
    with (obj_lava_water)
        instance_destroy()
}
scr_create_bg_anim()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var mundos, _wrapper, _list, _map, _list2, j, _map2, o_ground, _list3, k, _map3, object, o_objecto, _list4, l, _map4, _list5, _map5, sprite, _list6, _map6, _list7, _map7, _list8, _map8, mario_u;
if (global.levelguardabot != "")
{
    if file_exists((global.directorio + global.levelguardabot))
    {
        mundos = LoadJSONFromFile((global.directorio + global.levelguardabot))
        if (mundos == 0 || mundos == 0)
        {
            room_goto(rm_guardabot)
            exit
        }
        _wrapper = ds_map_find_value(mundos, "MAIN")
        _list = ds_map_find_value(_wrapper, "AJUSTES")
        _map = ds_list_find_value(_list, 0)
        if (global.my1 == ds_map_find_value(_map, "user"))
        {
            global.save_changes = global.levelguardabot
            global.last_level = global.levelguardabot
        }
        global.apariencia = ds_map_find_value(_map, "apariencia")
        if (global.apariencia &gt; 3 || global.apariencia &lt; 0)
            global.apariencia = choose(0, 1, 2, 3)
        global.bg_level = ds_map_find_value(_map, "entorno")
        if (global.bg_level != "ground" &amp;&amp; global.bg_level != "underground" &amp;&amp; global.bg_level != "castle" &amp;&amp; global.bg_level != "underwater" &amp;&amp; global.bg_level != "desert" &amp;&amp; global.bg_level != "ghost" &amp;&amp; global.bg_level != "airship" &amp;&amp; global.bg_level != "sky" &amp;&amp; global.bg_level != "forest" &amp;&amp; global.bg_level != "snow" &amp;&amp; global.bg_level != "beach" &amp;&amp; global.bg_level != "fall")
            global.bg_level = "ground"
        global.modo_noche = ds_map_find_value(_map, "modo_noche")
        if (global.modo_noche != 0 &amp;&amp; global.modo_noche != 1)
            global.modo_noche = 0
        global.timer = ds_map_find_value(_map, "cronometro")
        if (global.timer &gt; 500 || global.timer &lt; 10)
            global.timer = 300
        if instance_exists(obj_levelmanager)
        {
            with (obj_levelmanager)
            {
                if (!instance_exists(obj_mariostart))
                    event_user(5)
                alarm[2] = 1
                if (global.checkpointroom != -4)
                    f_mario = 0
            }
        }
        global.autoavance = ds_map_find_value(_map, "autoavance")
        if (global.autoavance &gt; 3 || global.autoavance &lt; 0)
            global.autoavance = 0
        global.condiciones = ds_map_find_value(_map, "condiciones")
        global.condiciones_type = ds_map_find_value(_map, "condiciones_type")
        global.condiciones_object = ds_map_find_value(_map, "condiciones_object")
        global.condiciones_count = ds_map_find_value(_map, "condiciones_count")
        if (global.condiciones != 0 &amp;&amp; global.condiciones != 1)
            global.condiciones = 0
        if (global.condiciones_type != 0 || global.condiciones_object != 0)
        {
            global.condiciones_type = 0
            global.condiciones_object = 0
        }
        if (global.condiciones_count &gt; 3 || global.condiciones_count &lt; 0)
            global.condiciones_count = 0
        if ds_map_exists(_map, "ds_s")
            global.sounds_level = ds_map_find_value(_map, "ds_s")
        if (global.sounds_level != 0 &amp;&amp; global.sounds_level != 1)
            global.sounds_level = 0
        if instance_exists(obj_ground2)
        {
            obj_ground2.y = ds_map_find_value(_map, "ground2")
            obj_ground2.size_y = ((432 - obj_ground2.y) / 16)
        }
        if instance_exists(obj_ground3)
        {
            obj_ground3.x = ds_map_find_value(_map, "ground3_x")
            obj_ground3.y = ds_map_find_value(_map, "ground3_y")
            obj_ground3.size_y = ((432 - obj_ground3.y) / 16)
        }
        room_width = ds_map_find_value(_map, "size")
        if (room_width &gt; 9216)
            room_width = 9216
        if (room_width &lt; 384)
            room_width = 496
        pos_y = ds_map_find_value(_map, "water_level")
        pos_y_limit = ds_map_find_value(_map, "water_level_limit")
        global.water_speed = ds_map_find_value(_map, "water_level_speed")
        if (global.water_speed != 0.2 &amp;&amp; global.water_speed != 0.5 &amp;&amp; global.water_speed != 0.8)
            global.water_speed = 0.2
        event_user(2)
        _list2 = ds_map_find_value(_wrapper, "SUELO")
        for (j = 0; j &lt; ds_list_size(_list2); j++)
        {
            _map2 = ds_list_find_value(_list2, j)
            o_ground = instance_create(0, 0, obj_ground)
            o_ground.x = ds_map_find_value(_map2, "x_pos")
            o_ground.y = ds_map_find_value(_map2, "y_pos")
            o_ground.x_draw = ds_map_find_value(_map2, "x_pos")
            o_ground.y_draw = ds_map_find_value(_map2, "y_pos")
            o_ground.image_index = ds_map_find_value(_map2, "index")
        }
        _list3 = ds_map_find_value(_wrapper, "NIVEL")
        for (k = 0; k &lt; ds_list_size(_list3); k++)
        {
            _map3 = ds_list_find_value(_list3, k)
            object = asset_get_index(ds_map_find_value(_map3, "object"))
            if (object != obj_tuberia_res &amp;&amp; object != obj_cannon_res &amp;&amp; object != obj_cannon_red_res &amp;&amp; object != obj_semisolid_platform1 &amp;&amp; object != obj_mushroom_platform_res &amp;&amp; object != obj_pokey_res &amp;&amp; object != obj_bullebill_base_red_res &amp;&amp; object != obj_bullebill_base_res &amp;&amp; object != obj_vine_res &amp;&amp; object != obj_platform_res &amp;&amp; object != obj_platform_blue_res &amp;&amp; object != obj_puente_res &amp;&amp; object != obj_door_res &amp;&amp; object != obj_door_exit_res &amp;&amp; object != obj_door_switch_res &amp;&amp; object != obj_door_switch_exit_res &amp;&amp; object != obj_door_lock_res &amp;&amp; object != obj_door_lock_exit_res &amp;&amp; object != obj_ground)
            {
                o_objecto = instance_create(0, 0, object)
                o_objecto.x = ds_map_find_value(_map3, "x_pos")
                o_objecto.y = ds_map_find_value(_map3, "y_pos")
                o_objecto.x_draw = ds_map_find_value(_map3, "x_pos")
                o_objecto.y_draw = ds_map_find_value(_map3, "y_pos")
                o_objecto.sprout = ds_map_find_value(_map3, "sprout")
                o_objecto.direct_t = ds_map_find_value(_map3, "direct_t")
                o_objecto.progresivo = ds_map_find_value(_map3, "progresivo")
                o_objecto.wings = ds_map_find_value(_map3, "wings")
                o_objecto.rotacion = ds_map_find_value(_map3, "rotacion")
                o_objecto.paracaidas = ds_map_find_value(_map3, "paracaidas")
                o_objecto.key = ds_map_find_value(_map3, "key")
                o_objecto.inup = ds_map_find_value(_map3, "inup")
                o_objecto.modo_water = ds_map_find_value(_map3, "modo_water")
                o_objecto.s_scaley = ds_map_find_value(_map3, "s_scaley")
            }
        }
        _list4 = ds_map_find_value(_wrapper, "TUBERIAS")
        for (l = 0; l &lt; ds_list_size(_list4); l++)
        {
            _map4 = ds_list_find_value(_list4, l)
            o_objecto = instance_create(0, 0, obj_tuberia_res)
            o_objecto.x = ds_map_find_value(_map4, "x_pos")
            o_objecto.y = ds_map_find_value(_map4, "y_pos")
            o_objecto.x_draw = ds_map_find_value(_map4, "x_pos")
            o_objecto.y_draw = ds_map_find_value(_map4, "y_pos")
            o_objecto.size = ds_map_find_value(_map4, "size")
            o_objecto.rotacion = ds_map_find_value(_map4, "rotacion")
            o_objecto.direct_t = ds_map_find_value(_map4, "direct_t")
            o_objecto.s_scalex = ds_map_find_value(_map4, "scalex")
            o_objecto.color = ds_map_find_value(_map4, "color")
            o_objecto.plant = ds_map_find_value(_map4, "mask")
            o_objecto.image_xscale = ds_map_find_value(_map4, "xscale")
            o_objecto.image_yscale = ds_map_find_value(_map4, "yscale")
            if ds_map_exists(_map4, "warp")
            {
                o_objecto.warp = ds_map_find_value(_map4, "warp")
                o_objecto.t_x_pos = ds_map_find_value(_map4, "t_x_pos")
                o_objecto.t_y_pos = ds_map_find_value(_map4, "t_y_pos")
                o_objecto.t_size = ds_map_find_value(_map4, "t_size")
                o_objecto.t_rotacion = ds_map_find_value(_map4, "t_rotacion")
                o_objecto.t_direct_t = ds_map_find_value(_map4, "t_direct_t")
                o_objecto.t_s_scalex = ds_map_find_value(_map4, "t_s_scalex")
                o_objecto.t_color = ds_map_find_value(_map4, "t_color")
                o_objecto.t_xscale = ds_map_find_value(_map4, "t_xscale")
                o_objecto.t_yscale = ds_map_find_value(_map4, "t_yscale")
            }
        }
        _list5 = ds_map_find_value(_wrapper, "DECORACION")
        for (l = 0; l &lt; ds_list_size(_list5); l++)
        {
            _map5 = ds_list_find_value(_list5, l)
            object = asset_get_index(ds_map_find_value(_map5, "object"))
            sprite = asset_get_index(ds_map_find_value(_map5, "sprite"))
            o_objecto = instance_create(0, 0, object)
            o_objecto.x = ds_map_find_value(_map5, "x_pos")
            o_objecto.y = ds_map_find_value(_map5, "y_pos")
            o_objecto.sprite_index = sprite
            o_objecto.image_index = ds_map_find_value(_map5, "index")
        }
        _list6 = ds_map_find_value(_wrapper, "CANNON")
        for (l = 0; l &lt; ds_list_size(_list6); l++)
        {
            _map6 = ds_list_find_value(_list6, l)
            object = asset_get_index(ds_map_find_value(_map6, "object"))
            o_objecto = instance_create(0, 0, object)
            o_objecto.x = ds_map_find_value(_map6, "x_pos")
            o_objecto.y = ds_map_find_value(_map6, "y_pos")
            o_objecto.x_draw = ds_map_find_value(_map6, "x_pos")
            o_objecto.y_draw = ds_map_find_value(_map6, "y_pos")
            o_objecto.direct = ds_map_find_value(_map6, "direct")
            o_objecto.d = ds_map_find_value(_map6, "down")
            o_objecto.u = ds_map_find_value(_map6, "up")
            o_objecto.l = ds_map_find_value(_map6, "left")
            o_objecto.r = ds_map_find_value(_map6, "right")
        }
        _list7 = ds_map_find_value(_wrapper, "PLATAFORMAS")
        for (l = 0; l &lt; ds_list_size(_list7); l++)
        {
            _map7 = ds_list_find_value(_list7, l)
            object = asset_get_index(ds_map_find_value(_map7, "object"))
            o_objecto = instance_create(0, 0, object)
            o_objecto.x = ds_map_find_value(_map7, "x_pos")
            o_objecto.y = ds_map_find_value(_map7, "y_pos")
            o_objecto.x_draw = ds_map_find_value(_map7, "x_pos")
            o_objecto.y_draw = ds_map_find_value(_map7, "y_pos")
            o_objecto.size_x = ds_map_find_value(_map7, "width")
            o_objecto.size_y = ds_map_find_value(_map7, "height")
            o_objecto.sprite_index = asset_get_index(ds_map_find_value(_map7, "sprite"))
            o_objecto.color = ds_map_find_value(_map7, "color")
            o_objecto.depth = ds_map_find_value(_map7, "depth")
            o_objecto.direct_t = ds_map_find_value(_map7, "direct_t")
            o_objecto.wings = ds_map_find_value(_map7, "wings")
        }
        _list8 = ds_map_find_value(_wrapper, "PUERTAS")
        for (l = 0; l &lt; ds_list_size(_list8); l++)
        {
            _map8 = ds_list_find_value(_list8, l)
            object = asset_get_index(ds_map_find_value(_map8, "object"))
            if ((object == obj_door_res &amp;&amp; limit_door_1 &lt; 4) || (object == obj_door_switch_res &amp;&amp; limit_door_2 &lt; 4) || (object == obj_door_lock_res &amp;&amp; limit_door_3 &lt; 4))
            {
                o_objecto = instance_create(0, 0, object)
                o_objecto.x = ds_map_find_value(_map8, "x_pos")
                o_objecto.y = ds_map_find_value(_map8, "y_pos")
                o_objecto.x_draw = ds_map_find_value(_map8, "x_pos")
                o_objecto.y_draw = ds_map_find_value(_map8, "y_pos")
                o_objecto.door_x = ds_map_find_value(_map8, "door_x")
                o_objecto.door_y = ds_map_find_value(_map8, "door_y")
                if (object == obj_door_res)
                    limit_door_1++
                else if (object == 590)
                    limit_door_2++
                else
                    limit_door_3++
            }
        }
        ds_map_destroy(_wrapper)
        if instance_exists(obj_parent_resource)
        {
            with (obj_parent_resource)
            {
                if (y &lt; (view_hview[0] - 8))
                {
                    with (obj_levelmanager)
                        camlock = 0
                }
                else
                {
                    with (obj_levelmanager)
                        camlock = 1
                }
            }
            if (obj_ground2.y &lt; (view_hview[0] - 8) || obj_ground3.y &lt; (view_hview[0] - 8))
            {
                with (obj_levelmanager)
                    camlock = 0
            }
            scr_edit_to_play()
            if instance_exists(obj_parent_resource)
            {
                with (obj_parent_resource)
                    instance_destroy()
            }
            if (global.apariencia == 3)
            {
                mario_u = obj_marioU
                with (obj_mario)
                {
                    if (object_index != obj_marioU)
                    {
                        instance_create(x, y, obj_marioU)
                        instance_destroy()
                    }
                }
            }
            else
                mario_u = obj_mario
            if instance_exists(mario_u)
            {
                if (global.checkpointroom == -4)
                {
                    if instance_exists(obj_ground2)
                    {
                        mario_u.x = (obj_ground2.x + 64)
                        mario_u.y = (obj_ground2.y - 32)
                        with (obj_levelmanager)
                        {
                            x = (obj_ground2.x + 64)
                            y = obj_ground2.y
                            speed = 0
                            fallow_mario = 0
                        }
                    }
                }
                else if (room == global.checkpointroom)
                {
                    mario_u.x = global.checkpoint_x
                    mario_u.y = (global.checkpoint_y - 16)
                    with (obj_levelmanager)
                    {
                        x = global.checkpoint_x
                        y = (global.checkpoint_y + 16)
                        speed = 0
                        fallow_mario = 0
                    }
                }
            }
            if (global.autoavance != 0)
            {
                if (room == global.checkpointroom)
                {
                    switch global.autoavance
                    {
                        case 1:
                            with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                            {
                                velocidad = 0.5
                                follow_y = 1
                            }
                            break
                        case 2:
                            with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                            {
                                velocidad = 1
                                follow_y = 1
                            }
                            break
                        case 3:
                            with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                            {
                                velocidad = 1.5
                                follow_y = 1
                            }
                            break
                    }

                }
                else
                {
                    switch global.autoavance
                    {
                        case 1:
                            with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                                velocidad = 0.5
                            break
                        case 2:
                            with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                                velocidad = 1
                            break
                        case 3:
                            with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                                velocidad = 1.5
                            break
                    }

                }
            }
            if (global.bg_level == "airship" &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0)
                instance_create(0, 0, obj_rainmaker)
            if (global.bg_level == "snow")
                instance_create(0, 0, obj_snowmaker)
            if (global.bg_level == "fall")
                instance_create(0, 0, obj_leafmaker)
            if (global.condiciones == 1 &amp;&amp; global.condiciones_type == 0)
            {
                global.condiciones_clear = 1
                with (obj_alert_condicion)
                    instance_destroy()
                with (instance_create((view_xview[0] + 54), (view_yview[0] + 43), obj_alert_condicion))
                    start = 1
            }
            if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0 &amp;&amp; global.apariencia != 3)
                background_hspeed[0] = -0.55
            else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia == 0)
                background_hspeed[0] = -1
            else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 0 &amp;&amp; global.apariencia != 3)
                background_hspeed[0] = -0.2
            global.instance_deactivate = 1
            instance_destroy()
        }
        if (obj_ground2.y &lt; (view_hview[0] - 8) || obj_ground3.y &lt; (view_hview[0] - 8))
        {
            with (obj_levelmanager)
                camlock = 0
        }
        //scr_edit_to_play()
        if instance_exists(obj_parent_resource)
        {
            with (obj_parent_resource)
                instance_destroy()
        }
        if (global.apariencia == 3)
        {
            mario_u = obj_marioU
            with (obj_mario)
            {
                if (object_index != obj_marioU)
                {
                    instance_create(x, y, obj_marioU)
                    instance_destroy()
                }
            }
        }
        else
            mario_u = obj_mario
        if instance_exists(mario_u)
        {
            if (global.checkpointroom == -4)
            {
                if instance_exists(obj_ground2)
                {
                    mario_u.x = (obj_ground2.x + 64)
                    mario_u.y = (obj_ground2.y - 32)
                    with (obj_levelmanager)
                    {
                        x = (obj_ground2.x + 64)
                        y = obj_ground2.y
                        speed = 0
                        fallow_mario = 0
                    }
                }
            }
            else if (room == global.checkpointroom)
            {
                mario_u.x = global.checkpoint_x
                mario_u.y = (global.checkpoint_y - 16)
                with (obj_levelmanager)
                {
                    x = global.checkpoint_x
                    y = (global.checkpoint_y + 16)
                    speed = 0
                    fallow_mario = 0
                }
            }
        }
        if (global.autoavance != 0)
        {
            if (room == global.checkpointroom)
            {
                switch global.autoavance
                {
                    case 1:
                        with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                        {
                            velocidad = 0.5
                            follow_y = 1
                        }
                        break
                    case 2:
                        with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                        {
                            velocidad = 1
                            follow_y = 1
                        }
                        break
                    case 3:
                        with (instance_create(global.checkpoint_x, global.checkpoint_y, obj_autoscroll))
                        {
                            velocidad = 1.5
                            follow_y = 1
                        }
                        break
                }

            }
            else
            {
                switch global.autoavance
                {
                    case 1:
                        with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                            velocidad = 0.5
                        break
                    case 2:
                        with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                            velocidad = 1
                        break
                    case 3:
                        with (instance_create((view_xview[0] + 192), (room_height - 108), obj_autoscroll))
                            velocidad = 1.5
                        break
                }

            }
        }
        if (global.bg_level == "airship" &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0)
            instance_create(0, 0, obj_rainmaker)
        if (global.bg_level == "snow")
            instance_create(0, 0, obj_snowmaker)
        if (global.bg_level == "fall")
            instance_create(0, 0, obj_leafmaker)
        if (global.condiciones == 1 &amp;&amp; global.condiciones_type == 0)
        {
            global.condiciones_clear = 1
            with (obj_alert_condicion)
                instance_destroy()
            with (instance_create((view_xview[0] + 54), (view_yview[0] + 43), obj_alert_condicion))
                start = 1
        }
        if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia != 0 &amp;&amp; global.apariencia != 3)
            background_hspeed[0] = -0.55
        else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 1 &amp;&amp; global.apariencia == 0)
            background_hspeed[0] = -1
        else if ((global.bg_level == "sky" || global.bg_level == "airship") &amp;&amp; global.modo_noche == 0 &amp;&amp; global.apariencia != 3)
            background_hspeed[0] = -0.2
        global.instance_deactivate = 1
        instance_destroy()
    }
    else if (room == rm_title)
        event_user(5)
}
else if (room == rm_title)
    event_user(5)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.instance_deactivate = 0
if (room == rm_title)
    global.levelguardabot = global.last_level
if (global.nm_play == 0)
    event_user(1)
else
    event_user(4)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
