<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_NSMBU_mario_editor</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-7</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sprite = sprite_index
index = 0
image_speed = 0
land = 0
blend_star = 16777215
flashAlpha = 1
cp = 0
cp_cont = 0
color[0] = make_colour_rgb(255, 255, 72)
color[1] = make_colour_rgb(254, 138, 139)
color[2] = make_colour_rgb(102, 245, 157)
powerup = 0
type_powerup = global.powerup_editor
xx = 0
yy = 0
direct = 1
drag = 0
move_velocity = 0
x_start = 72
y_start = 152
prev_x = x
prev_y = y
drop_lock = 0
layer = depth
x_draw = x
y_draw = y
ventana = 0
clean = 0
mouse_up = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (drag == 1)
{
    depth = -19
    x_draw = (mouse_x + xx)
    y_draw = (mouse_y + yy)
    x = (mouse_x + xx)
    y = (mouse_y + yy)
    move_snap(16, 16)
    if (x != prev_x || y != prev_y)
    {
        audio_stop_sound(snd_move_object)
        audio_play_sound(snd_move_object, 0, false)
        prev_x = x
        prev_y = y
        if instance_exists(obj_ventana_mario)
        {
            with (obj_ventana_mario)
                can_anim2 = 1
        }
    }
    if (ventana &gt; 0 &amp;&amp; x == x_start &amp;&amp; y == y_start)
    {
        ventana += 0.5
        if (ventana &gt;= 14)
        {
            event_user(0)
            ventana = 0
        }
    }
    else
        ventana = 0
    global.editor_lock = 1
    obj_cursor.move_view = 1
    alarm[0] = 1
}
else
{
    if (x != x_start || y != y_start)
        audio_play_sound(snd_mario_add, 0, false)
    move_snap(16, 16)
    drop_lock = 0
    ventana = 0
    depth = layer
    x_draw = x
    y_draw = y
    x_start = x
    y_start = y
    global.editor_lock = 0
    global.resource_block = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var cal;
if instance_exists(obj_editormanager)
{
    cal = (sprite_get_yoffset(sprite_index) - sprite_get_bbox_top(sprite_index))
    if (bbox_bottom &gt; room_height)
    {
        y = (room_height - 16)
        if (vspeed &gt; 0)
            vspeed = 0
    }
    else if ((y + cal) &lt;= 0)
    {
        y += cal
        if (vspeed &lt; 0)
            vspeed = 0
    }
    if (bbox_right &gt; room_width)
    {
        x = (room_width - 16)
        if (hspeed &gt; 0)
            hspeed = 0
    }
    else if (bbox_left &lt;= 0)
    {
        x = 0
        if (hspeed &lt; 0)
            hspeed = 0
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var un, move_velocity;
global.powerup = scr_powerup_editor(type_powerup)
global.powerup_editor = type_powerup
if (global.star_flash == 1)
{
    if (cp_cont == 0)
    {
        flashAlpha -= 0.1
        if (flashAlpha &lt; 0.2)
        {
            cp_cont = 1
            if (cp &lt; 2)
                cp++
            else
                cp = 0
        }
    }
    else
    {
        flashAlpha += 0.1
        if (flashAlpha &gt; 0.9)
            cp_cont = 0
    }
    blend_star = color[cp]
}
if (drag == 1)
{
    if (global.apariencia == 3)
    {
        if (global.bg_level == "underwater")
            un = 1
        else
            un = 0
        sprite = scr_NSMBU_walk(un)
        index += 1
    }
    else
    {
        sprite = scr_mariowalk()
        index += 0.25
    }
}
else
{
    if (global.apariencia == 3)
    {
        if (global.bg_level == "underwater")
            sprite = 2997
        else
            sprite = 2996
        switch global.powerup
        {
            case 0:
                index = 0
                break
            case 1:
                index = 1
                break
            case 2:
                index = 2
                break
            case -30:
                index = 3
                break
            case -43:
                index = 4
                break
            case -38:
                index = 5
                break
        }

    }
    else
    {
        sprite = scr_marioidle()
        index = 0
    }
    x_draw = x
    y_draw = y
}
if (global.powerup == 0)
    mask_index = spr_grid_selected_16x16
else
    mask_index = spr_grid_selected_16x32
if (collision_rectangle((bbox_left - 4), bbox_bottom, (bbox_right + 4), bbox_bottom, obj_cursor, 0, 0) &amp;&amp; obj_erase.active == 1)
    clean = 1
else
    clean = 0
if (obj_cursor.move_view == 1)
{
    if (mouse_x &gt; ((view_xview[0] + view_wview[0]) - 80))
        hspeed = 4
    else if (mouse_x &lt; (view_xview[0] + 80))
        hspeed = -4
    else
        hspeed = 0
    if (mouse_y &lt; (view_yview[0] + 48))
        vspeed = -4
    else if (mouse_y &gt; ((view_yview[0] + view_hview[0]) - 48))
        vspeed = 4
    else
        vspeed = 0
}
if (obj_cursor.move_view == 0)
{
    if ((obj_editormanager.expand_open == 0 || obj_levelmanager.editor_water == 1) &amp;&amp; drag == 0 &amp;&amp; (!instance_exists(obj_ventana_water)))
    {
        if keyboard_check(global.lanzar_agarrar)
            move_velocity = 8
        else
            move_velocity = 0
        if (keyboard_check(global.arriba) &amp;&amp; (!keyboard_check(global.abajo)) &amp;&amp; bbox_top &gt; 0)
            vspeed = (-4 - move_velocity)
        else if (keyboard_check(global.abajo) &amp;&amp; (!keyboard_check(global.arriba)) &amp;&amp; bbox_bottom &lt; (room_height - 1))
            vspeed = (4 + move_velocity)
        else
            vspeed = 0
        if (keyboard_check(global.izquierda) &amp;&amp; (!keyboard_check(global.derecha)) &amp;&amp; bbox_left &gt; 0)
            hspeed = (-4 - move_velocity)
        else if (keyboard_check(global.derecha) &amp;&amp; (!keyboard_check(global.izquierda)) &amp;&amp; bbox_right &lt; (room_width - 1))
            hspeed = (4 + move_velocity)
        else
            hspeed = 0
    }
    else
        speed = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mouse_up = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (drag == 0 &amp;&amp; obj_editormanager.expand_open == 0)
    mouse_up = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>drag = 0
obj_cursor.move = 0
global.resource_block = 0
if (global.cursor != 2)
{
    global.cursor = 0
    with (obj_cursor)
        event_user(0)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (obj_levelmanager.editor == 1 &amp;&amp; global.resource_create == 0 &amp;&amp; obj_editormanager.zoom == 0 &amp;&amp; (obj_editormanager.expand_open == 0 || obj_levelmanager.editor_sonidos == 1) &amp;&amp; (!collision_rectangle((floor((mouse_x / 16)) * 16), (floor((mouse_y / 16)) * 16), ((floor((mouse_x / 16)) * 16) + 15), ((floor((mouse_y / 16)) * 16) + 15), obj_parent_layout, 1, 1)) &amp;&amp; (!place_meeting(obj_creation_preview.x, obj_creation_preview.y, obj_parent_layout)))
{
    if ((!place_meeting(x, y, obj_creator_jugar_editar)) &amp;&amp; (!place_meeting(x, y, obj_panel_expand)))
    {
        if (global.cursor == 0)
        {
            if ((instance_exists(obj_parent_resource) &amp;&amp; obj_parent_resource.alarm[0] == -1) || (!instance_exists(obj_parent_resource)))
            {
                audio_play_sound(snd_ground_bomb, 0, false)
                xx = (x - mouse_x)
                yy = (y - mouse_y)
                with (obj_creation_preview)
                {
                    xx = other.xx
                    yy = other.yy
                }
                x_start = x
                y_start = y
                global.resource_block = 1
                drag = 1
                obj_cursor.move = 1
                ventana = 1
                global.cursor = 1
                with (obj_cursor)
                    event_user(0)
                if (!instance_exists(obj_effect_touch))
                    instance_create(mouse_x, mouse_y, obj_effect_touch)
                global.resource_move = object_index
                alarm[0] = 1
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x, y, obj_invincibility)
if (obj_levelmanager.switchon == 0)
    audio_play_sound(scr_snd_starman(), 99, true)
with (obj_levelmanager)
    alarm[1] = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create((x + 8), (y + 9), obj_ventana_mario)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (drag == 1 || (mouse_up == 1 &amp;&amp; global.cursor == 0))
    draw_sprite_ext(mask_index, 0, x, y, 1, 1, 0, c_white, 1)
if (global.powerup == 3)
    draw_sprite_ext(spr_cap_stay_start, 0, ((x_draw + 8) + round(hspeed)), ((y_draw - 15) + round(vspeed)), direct, 1, 0, c_white, image_alpha)
if (global.apariencia == 3 &amp;&amp; drag == 0)
{
    if (direct == 1)
        draw_sprite_ext(sprite, index, (x_draw + round(hspeed)), ((y_draw + 1) + round(vspeed)), direct, 1, 0, c_white, image_alpha)
    else
        draw_sprite_ext(sprite, index, ((x_draw + 16) + round(hspeed)), ((y_draw + 1) + round(vspeed)), direct, 1, 0, c_white, image_alpha)
}
else
    draw_sprite_ext(sprite, index, ((x_draw + 8) + round(hspeed)), ((y_draw - 15) + round(vspeed)), direct, 1, 0, c_white, image_alpha)
if (global.star_flash == 1 &amp;&amp; global.effect_star == 1)
{
    shader_set(sha_blendreplace)
    if (global.apariencia == 3 &amp;&amp; drag == 0)
    {
        if (direct == 1)
            draw_sprite_ext(sprite, index, (x_draw + round(hspeed)), ((y_draw + 1) + round(vspeed)), direct, 1, 0, blend_star, flashAlpha)
        else
            draw_sprite_ext(sprite, index, ((x_draw + 16) + round(hspeed)), ((y_draw + 1) + round(vspeed)), direct, 1, 0, blend_star, flashAlpha)
    }
    else
        draw_sprite_ext(sprite, index, ((x_draw + 8) + round(hspeed)), ((y_draw - 15) + round(vspeed)), direct, 1, 0, blend_star, flashAlpha)
    shader_reset()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
